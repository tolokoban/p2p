"use strict";(self.webpackChunk_tolokoban_p2p_doc=self.webpackChunk_tolokoban_p2p_doc||[]).push([["564"],{54(e,t,r){r.d(t,{A:()=>o});var n=r(540);class o{constructor(e,t={}){var r;this.options=t,this.listeners=new Set,this.currentValue=t.transform?t.transform(e):e,this.id=`AtomicState
${null==(r=t.storage)?void 0:r.id}`,t.storage&&this.loadFromStorage()}get value(){return this.currentValue}set value(e){let{transform:t,storage:r}=this.options;if(t&&(e=t(e)),e!==this.currentValue)for(let t of(this.currentValue=e,r&&window.localStorage.setItem(this.id,JSON.stringify(e)),this.listeners))t(e)}useListener(e){n.useEffect(()=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),[])}useValue(){let[e,t]=n.useState(this.currentValue);return n.useEffect(()=>(this.listeners.add(t),()=>{this.listeners.delete(t)}),[]),e}useState(){let[e,t]=n.useState(this.currentValue);return n.useEffect(()=>(this.listeners.add(t),()=>{this.listeners.delete(t)}),[]),[e,e=>{this.value=e}]}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}loadFromStorage(){let{storage:e}=this.options;if(e)try{let t=window.localStorage.getItem(this.id);if(!t)return;let r=JSON.parse(t);if(!e.guard(r))throw Error("Invalid type!");this.currentValue=r}catch(t){console.error(`Unable to retrieve AtomicState "${e.id}":`,t)}}}},960(e,t,r){r.r(t),r.d(t,{default:()=>d});var n=r(848),o=r(710),i=r(540),a=r(936),l=r(592),s=r(419);function u({onPeer:e}){let t=(0,s.fA)("id"),[r,u]=i.useState(!1),[c,f]=l.U.signalServer.useState(),d=async()=>{u(!0),e(await a.Nx.connect(c,t)),u(!1)};return(0,n.jsxs)(o.sWC,{display:"flex",flexDirection:"column",alignItems:"stretch",padding:"M",gap:"M",children:[(0,n.jsx)(o.Hqg,{label:"Signal server",value:c,onChange:f}),(0,n.jsx)(o.yQN,{icon:o.uqr,enabled:!r,onClick:d,children:"Accept"})]})}var c=r(424);function f(){let[e,t]=i.useState(null),r=function(e){let[t,r]=i.useState(!1);return i.useEffect(()=>{if(!e)return void r(!1);let t=()=>r(!0);return e.eventConnected.addListener(t),()=>e.eventConnected.removeListener(t)},[e]),t}(e);return e?r?(0,n.jsx)(c.A,{peer:e}):(0,n.jsx)(o.vJ5,{children:"Connecting..."}):(0,n.jsx)(u,{onPeer:t})}function d(){return(0,n.jsx)(o.sWC,{position:"absolute",fullsize:!0,color:"neutral-1",display:"grid",placeItems:"center",children:(0,n.jsxs)(o.UkC,{orientation:"column",template:"-1",children:[(0,n.jsx)(o.sWC,{color:"primary-5",padding:["S","M"],fontSize:"L",children:"@tolokoban/p2p (answer)"}),(0,n.jsx)(o.sWC,{color:"neutral-5",padding:"S",display:"grid",placeItems:"center",children:(0,n.jsx)(f,{})})]})})}},425(e,t,r){function n(e){return!(!e||Array.isArray(e))&&"object"==typeof e}function o(e){return"string"==typeof e}function i(e){return"number"==typeof e}function a(e,t,r=null){return function(e,t,r=null){try{return s(e,t),!0}catch(t){return r&&(console.error("[Invalid type]",r),console.error(e),console.debug(t)),!1}}(e,t,r)}function l(e,t,r="data"){return s(e,t,r)}function s(e,t,r="data"){if("function"==typeof t)return s(e,t(),r);if("unknown"!==t){if("null"===t){if(null!==e)throw console.log("\uD83D\uDE80 [index] data = ",e,typeof e),Error(`Expected ${r} to be a null and not a ${c(e)}!`);return}if("string"==typeof t){if(typeof e!==t)throw Error(`Expected ${r} to be a ${t} and not a ${c(e)}!`);return}if(Array.isArray(t)){let[o]=t;switch(o){case"array":!function(e,t,r){if(!Array.isArray(e))throw Error(`Expected ${t} to be an array and not a ${c(e)}!`);let[,n,o]=r;if(o){let r=e.length;if(i(o)){if(r!==o)throw Error(`Expected ${t}'s length to be ${o} and not ${r}!`)}else{let{min:e,max:n}=o;if(i(e)&&r<e)throw Error(`Expected ${t}'s MIN length to be ${e} and not ${r}!`);if(i(n)&&r>n)throw Error(`Expected ${t}'s MAX length to be ${n} and not ${r}!`)}}for(let r=0;r<e.length;r+=1)s(e[r],n,`${t}[${r}]`)}(e,r,t);return;case"map":!function(e,t,r){if(!n(e))throw Error(`Expected ${t} to be an object and not a ${c(e)}!`);let[,o]=r;for(let r of Object.keys(e))"string"==typeof r&&s(e[r],o,`${t}[${r}]`)}(e,r,t);return;case"?":!function(e,t,r){if(void 0===e)return;let[,n]=r;s(e,n,t)}(e,r,t);return;case"|":!function(e,t,r){let[,...n]=r;if(0===n.length)throw Error(`No type has been defined for this alternative: ${JSON.stringify(r)}!`);let o=[];for(let r of n)try{s(e,r,t);return}catch(e){e instanceof Error&&o.push(e)}throw Error(`All alternatives failed!${o.map(e=>`
${e.message}`)}`)}(e,r,t);return;case"tuple":u(e,r,t);return;case"tuple...":!function(e,t,[,...r]){let n=r.length-1;u(e,t,["tuple",...r.slice(0,n)]);let o=r[n];for(let r=n;r<e.length;r++)s(e[r],o,`${t}[${r}]`)}(e,r,t);return;case"partial":!function(e,t,[,r]){for(let o of(!function(e,t="data"){if(!n(e))throw Error(`${t} was expected to be an object but we got ${typeof e}!`)}(e,t),Object.keys(r))){if("string"!=typeof o)continue;let n=e[o];void 0!==n&&s(n,r[o],`${t}.${o}`)}}(e,r,t);return;case"literal":!function(e,t,r){let[,...n]=r;for(let t of n)if(e===t)return;throw Error(`Expected ${t} to be a literal (${n.map(e=>`"${e}"`).join(" | ")}) and not a ${c(e)}!`)}(e,r,t);return;case"custom":!function(e,t,[,r]){if(!r(e))throw Error(`Expected ${r.name}(${t}) to return true!`)}(e,r,t);return;default:throw Error(`Don't know how to create a type guard for this kind of type: ${JSON.stringify(t)}`)}}if("object"!=typeof e)throw Error(`Expected ${r} to be an object and not a ${c(e)}!`);for(let n of Object.keys(t))"string"==typeof n&&s(e[n],t[n],`${r}.${n}`)}}function u(e,t,[,...r]){if(!function(e,t="data"){if(!Array.isArray(e))throw Error(`${t} was expected to be an Array but we got ${typeof e}!`)}(e),r.length>e.length)throw Error(`Expected ${t}'s length to be at least ${r.length} and not ${e.length}!`);for(let n=0;n<r.length;n++){let o=r[n];s(e[n],o,`${t}[${n}]`)}}function c(e){var t;return null===e?"null":"function"==typeof e?`function ${null!=(t=e.name)?t:""}()`:typeof e}r.d(t,{Kg:()=>o,X9:()=>s,Xj:()=>a,j:()=>l})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyLzU2NC41MDBmY2Y5Zjk4MDk5YmM2LmpzIiwic291cmNlcyI6WyIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvQHRvbG9rb2Jhbi9wMnAvZG9jdW1lbnRhdGlvbi9ub2RlX21vZHVsZXMvQHRvbG9rb2Jhbi9yZWFjdC1zdGF0ZS9kaXN0L2F0b21pYy1zdGF0ZS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9AdG9sb2tvYmFuL3AycC9kb2N1bWVudGF0aW9uL3NyYy9hcHAvZGVtby9baWRdL0NvbnRlbnQvQWNjZXB0L0FjY2VwdC50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvQHRvbG9rb2Jhbi9wMnAvZG9jdW1lbnRhdGlvbi9zcmMvYXBwL2RlbW8vW2lkXS9Db250ZW50L0NvbnRlbnQudHN4IiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL0B0b2xva29iYW4vcDJwL2RvY3VtZW50YXRpb24vc3JjL2FwcC9kZW1vL1tpZF0vcGFnZS50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvQHRvbG9rb2Jhbi9wMnAvbm9kZV9tb2R1bGVzL0B0b2xva29iYW4vdHlwZS1ndWFyZHMvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBvcHRpb25zLnRyYW5zZm9ybVxuICAgICAgICAgICAgPyBvcHRpb25zLnRyYW5zZm9ybShpbml0aWFsVmFsdWUpXG4gICAgICAgICAgICA6IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgdGhpcy5pZCA9IGBBdG9taWNTdGF0ZVxcbiR7KF9hID0gb3B0aW9ucy5zdG9yYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWR9YDtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RvcmFnZSlcbiAgICAgICAgICAgIHRoaXMubG9hZEZyb21TdG9yYWdlKCk7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgeyB0cmFuc2Zvcm0sIHN0b3JhZ2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKHRyYW5zZm9ybSlcbiAgICAgICAgICAgIHZhbHVlID0gdHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmN1cnJlbnRWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHN0b3JhZ2UpXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVzZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgW10pO1xuICAgIH1cbiAgICB1c2VWYWx1ZSgpIHtcbiAgICAgICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZSh0aGlzLmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQoc2V0VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoc2V0VmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHVzZVN0YXRlKCkge1xuICAgICAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKHRoaXMuY3VycmVudFZhbHVlKTtcbiAgICAgICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmFkZChzZXRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShzZXRWYWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHY7XG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH1cbiAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIH1cbiAgICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIH1cbiAgICBsb2FkRnJvbVN0b3JhZ2UoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RvcmFnZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoIXN0b3JhZ2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuaWQpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgaWYgKCFzdG9yYWdlLmd1YXJkKGRhdGEpKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIHR5cGUhYCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gcmV0cmlldmUgQXRvbWljU3RhdGUgXCIke3N0b3JhZ2UuaWR9XCI6YCwgZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXRvbWljLXN0YXRlLmpzLm1hcCIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEljb25QbHVnLCBWaWV3QnV0dG9uLCBWaWV3SW5wdXRUZXh0LCBWaWV3UGFuZWwgfSBmcm9tIFwiQHRvbG9rb2Jhbi91aVwiO1xuaW1wb3J0IHsgUGVlckFuc3dlciwgUGVlck9mZmVyIH0gZnJvbSBcIkB0b2xva29iYW4vcDJwXCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCJAL3N0YXRlXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZVBhcmFtQXNTdHJpbmcgfSBmcm9tIFwiQC9hcHAvcm91dGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWNjZXB0UHJvcHMge1xuICBvblBlZXIocGVlcjogUGVlckFuc3dlcik6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY2NlcHQoeyBvblBlZXIgfTogQWNjZXB0UHJvcHMpIHtcbiAgY29uc3QgaWQgPSB1c2VSb3V0ZVBhcmFtQXNTdHJpbmcoXCJpZFwiKTtcbiAgY29uc3QgW2J1c3ksIHNldEJ1c3ldID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2lnbmFsU2VydmVyLCBzZXRzaWduYWxTZXJ2ZXJdID0gU3RhdGUuc2lnbmFsU2VydmVyLnVzZVN0YXRlKCk7XG4gIGNvbnN0IGhhbmRsZWNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0QnVzeSh0cnVlKTtcbiAgICBjb25zdCBwZWVyID0gYXdhaXQgUGVlckFuc3dlci5jb25uZWN0KHNpZ25hbFNlcnZlciwgaWQpO1xuICAgIG9uUGVlcihwZWVyKTtcbiAgICBzZXRCdXN5KGZhbHNlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxWaWV3UGFuZWxcbiAgICAgIGRpc3BsYXk9XCJmbGV4XCJcbiAgICAgIGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIlxuICAgICAgYWxpZ25JdGVtcz1cInN0cmV0Y2hcIlxuICAgICAgcGFkZGluZz1cIk1cIlxuICAgICAgZ2FwPVwiTVwiXG4gICAgPlxuICAgICAgPFZpZXdJbnB1dFRleHRcbiAgICAgICAgbGFiZWw9XCJTaWduYWwgc2VydmVyXCJcbiAgICAgICAgdmFsdWU9e3NpZ25hbFNlcnZlcn1cbiAgICAgICAgb25DaGFuZ2U9e3NldHNpZ25hbFNlcnZlcn1cbiAgICAgIC8+XG4gICAgICA8Vmlld0J1dHRvbiBpY29uPXtJY29uUGx1Z30gZW5hYmxlZD17IWJ1c3l9IG9uQ2xpY2s9e2hhbmRsZWNvbm5lY3R9PlxuICAgICAgICBBY2NlcHRcbiAgICAgIDwvVmlld0J1dHRvbj5cbiAgICA8L1ZpZXdQYW5lbD5cbiAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFBlZXJBbnN3ZXIgfSBmcm9tIFwiQHRvbG9rb2Jhbi9wMnBcIjtcblxuaW1wb3J0IHsgVmlld1NwaW5uZXIgfSBmcm9tIFwiQHRvbG9rb2Jhbi91aVwiO1xuaW1wb3J0IHsgQWNjZXB0IH0gZnJvbSBcIi4vQWNjZXB0XCI7XG5pbXBvcnQgQ2hhdCBmcm9tIFwiQC9jb21wb25lbnRzL0NoYXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udGVudCgpIHtcbiAgY29uc3QgW3BlZXIsIHNldFBlZXJdID0gUmVhY3QudXNlU3RhdGU8UGVlckFuc3dlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBjb25uZWN0ZWQgPSB1c2VDb25uZWN0ZWQocGVlcik7XG5cbiAgaWYgKCFwZWVyKSB7XG4gICAgcmV0dXJuIDxBY2NlcHQgb25QZWVyPXtzZXRQZWVyfSAvPjtcbiAgfVxuXG4gIGlmICghY29ubmVjdGVkKSB7XG4gICAgcmV0dXJuIDxWaWV3U3Bpbm5lcj5Db25uZWN0aW5nLi4uPC9WaWV3U3Bpbm5lcj47XG4gIH1cblxuICByZXR1cm4gPENoYXQgcGVlcj17cGVlcn0gLz47XG59XG5cbmZ1bmN0aW9uIHVzZUNvbm5lY3RlZChwZWVyOiBQZWVyQW5zd2VyIHwgbnVsbCkge1xuICBjb25zdCBbY29ubmVjdGVkLCBzZXRDb25uZWN0ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcGVlcikge1xuICAgICAgc2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb25uZWN0ID0gKCkgPT4gc2V0Q29ubmVjdGVkKHRydWUpO1xuICAgIHBlZXIuZXZlbnRDb25uZWN0ZWQuYWRkTGlzdGVuZXIoY29ubmVjdCk7XG4gICAgcmV0dXJuICgpID0+IHBlZXIuZXZlbnRDb25uZWN0ZWQucmVtb3ZlTGlzdGVuZXIoY29ubmVjdCk7XG4gIH0sIFtwZWVyXSk7XG4gIHJldHVybiBjb25uZWN0ZWQ7XG59XG4iLCJpbXBvcnQgeyBWaWV3UGFuZWwsIFZpZXdTdHJpcCB9IGZyb20gXCJAdG9sb2tvYmFuL3VpXCI7XG5cbmltcG9ydCBDb250ZW50IGZyb20gXCIuL0NvbnRlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcbiAgcmV0dXJuIChcbiAgICA8Vmlld1BhbmVsXG4gICAgICBwb3NpdGlvbj1cImFic29sdXRlXCJcbiAgICAgIGZ1bGxzaXplXG4gICAgICBjb2xvcj1cIm5ldXRyYWwtMVwiXG4gICAgICBkaXNwbGF5PVwiZ3JpZFwiXG4gICAgICBwbGFjZUl0ZW1zPVwiY2VudGVyXCJcbiAgICA+XG4gICAgICA8Vmlld1N0cmlwIG9yaWVudGF0aW9uPVwiY29sdW1uXCIgdGVtcGxhdGU9XCItMVwiPlxuICAgICAgICA8Vmlld1BhbmVsIGNvbG9yPVwicHJpbWFyeS01XCIgcGFkZGluZz17W1wiU1wiLCBcIk1cIl19IGZvbnRTaXplPVwiTFwiPlxuICAgICAgICAgIEB0b2xva29iYW4vcDJwIChhbnN3ZXIpXG4gICAgICAgIDwvVmlld1BhbmVsPlxuICAgICAgICA8Vmlld1BhbmVsXG4gICAgICAgICAgY29sb3I9XCJuZXV0cmFsLTVcIlxuICAgICAgICAgIHBhZGRpbmc9XCJTXCJcbiAgICAgICAgICBkaXNwbGF5PVwiZ3JpZFwiXG4gICAgICAgICAgcGxhY2VJdGVtcz1cImNlbnRlclwiXG4gICAgICAgID5cbiAgICAgICAgICA8Q29udGVudCAvPlxuICAgICAgICA8L1ZpZXdQYW5lbD5cbiAgICAgIDwvVmlld1N0cmlwPlxuICAgIDwvVmlld1BhbmVsPlxuICApO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGRhdGEpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyhkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcImZ1bmN0aW9uXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJ1bmRlZmluZWRcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4oZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJib29sZWFuXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihkYXRhKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyhkYXRhKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0J1ZmZlclNvdXJjZShkYXRhKSB7XG4gICAgcmV0dXJuIGlzQXJyYXlCdWZmZXIoZGF0YSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdBcnJheShkYXRhKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGEpIHtcbiAgICAgICAgaWYgKCFpc1N0cmluZyhpdGVtKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TnVtYmVyKGRhdGEsIG5hbWUgPSBcImRhdGFcIikge1xuICAgIGlmICghaXNOdW1iZXIoZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7bmFtZX0gd2FzIGV4cGVjdGVkIHRvIGJlIGEgbnVtYmVyIGJ1dCB3ZSBnb3QgJHt0eXBlb2YgZGF0YX0hYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyhkYXRhLCBuYW1lID0gXCJkYXRhXCIpIHtcbiAgICBpZiAoIWlzU3RyaW5nKGRhdGEpKSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke25hbWV9IHdhcyBleHBlY3RlZCB0byBiZSBhIHN0cmluZyBidXQgd2UgZ290ICR7dHlwZW9mIGRhdGF9IWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRPcHRpb25hbFN0cmluZyhkYXRhLCBuYW1lID0gXCJkYXRhXCIpIHtcbiAgICBpZiAoZGF0YSAmJiAhaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7bmFtZX0gd2FzIGV4cGVjdGVkIHRvIGJlIGEgc3RyaW5nIGJ1dCB3ZSBnb3QgJHt0eXBlb2YgZGF0YX0hYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEJvb2xlYW4oZGF0YSwgbmFtZSA9IFwiZGF0YVwiKSB7XG4gICAgaWYgKCFpc0Jvb2xlYW4oZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7bmFtZX0gd2FzIGV4cGVjdGVkIHRvIGJlIGEgYm9vbGVhbiBidXQgd2UgZ290ICR7dHlwZW9mIGRhdGF9IWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRPYmplY3QoZGF0YSwgbmFtZSA9IFwiZGF0YVwiKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgJHtuYW1lfSB3YXMgZXhwZWN0ZWQgdG8gYmUgYW4gb2JqZWN0IGJ1dCB3ZSBnb3QgJHt0eXBlb2YgZGF0YX0hYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEFycmF5KGRhdGEsIG5hbWUgPSBcImRhdGFcIikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgJHtuYW1lfSB3YXMgZXhwZWN0ZWQgdG8gYmUgYW4gQXJyYXkgYnV0IHdlIGdvdCAke3R5cGVvZiBkYXRhfSFgKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0QXJyYXlCdWZmZXIoZGF0YSwgbmFtZSA9IFwiZGF0YVwiKSB7XG4gICAgaWYgKCFpc0FycmF5QnVmZmVyKGRhdGEpKSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke25hbWV9IHdhcyBleHBlY3RlZCB0byBiZSBhbiBBcnJheUJ1ZmZlciBidXQgd2UgZ290ICR7dHlwZW9mIGRhdGF9IWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRPcHRpb25hbEFycmF5QnVmZmVyKGRhdGEsIG5hbWUgPSBcImRhdGFcIikge1xuICAgIGlmIChkYXRhICYmICFpc0FycmF5QnVmZmVyKGRhdGEpKSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke25hbWV9IHdhcyBleHBlY3RlZCB0byBiZSBhbiBBcnJheUJ1ZmZlciBidXQgd2UgZ290ICR7dHlwZW9mIGRhdGF9IWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1R5cGUoZGF0YSwgdHlwZSwgbG9nRXJyb3JzID0gbnVsbCkge1xuICAgIHJldHVybiBpc1R5cGUkKGRhdGEsIHR5cGUsIGxvZ0Vycm9ycyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUeXBlJChkYXRhLCB0eXBlLCBsb2dFcnJvcnMgPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXNzZXJ0VHlwZSQoZGF0YSwgdHlwZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgaWYgKGxvZ0Vycm9ycykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIltJbnZhbGlkIHR5cGVdXCIsIGxvZ0Vycm9ycyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUeXBlKGRhdGEsIHR5cGUsIHByZWZpeCA9IFwiZGF0YVwiKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUkKGRhdGEsIHR5cGUsIHByZWZpeCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHlwZSQoZGF0YSwgdHlwZSwgcHJlZml4ID0gXCJkYXRhXCIpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIGFzc2VydFR5cGUkKGRhdGEsIHR5cGUoKSwgcHJlZml4KTtcbiAgICBpZiAodHlwZSA9PT0gXCJ1bmtub3duXCIpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodHlwZSA9PT0gXCJudWxsXCIpIHtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+agCBbaW5kZXhdIGRhdGEgPSBcIiwgZGF0YSwgdHlwZW9mIGRhdGEpOyAvLyBARklYTUU6IFJlbW92ZSB0aGlzIGxpbmUgd3JpdHRlbiBvbiAyMDI0LTEwLTE4IGF0IDEzOjIyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgJHtwcmVmaXh9IHRvIGJlIGEgbnVsbCBhbmQgbm90IGEgJHtwcmV0dHlUeXBlb2YoZGF0YSl9IWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7cHJlZml4fSB0byBiZSBhICR7dHlwZX0gYW5kIG5vdCBhICR7cHJldHR5VHlwZW9mKGRhdGEpfSFgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgIGNvbnN0IFtraW5kXSA9IHR5cGU7XG4gICAgICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICAgICAgY2FzZSBcImFycmF5XCI6XG4gICAgICAgICAgICAgICAgYXNzZXJ0VHlwZUFycmF5KGRhdGEsIHByZWZpeCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgIGFzc2VydFR5cGVNYXAoZGF0YSwgcHJlZml4LCB0eXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiP1wiOlxuICAgICAgICAgICAgICAgIGFzc2VydFR5cGVPcHRpb25hbChkYXRhLCBwcmVmaXgsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJ8XCI6XG4gICAgICAgICAgICAgICAgYXNzZXJ0VHlwZUFsdGVybmF0aXZlKGRhdGEsIHByZWZpeCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcInR1cGxlXCI6XG4gICAgICAgICAgICAgICAgYXNzZXJ0VHlwZVR1cGxlKGRhdGEsIHByZWZpeCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcInR1cGxlLi4uXCI6XG4gICAgICAgICAgICAgICAgYXNzZXJ0VHlwZVR1cGxlV2l0aFJlc3QoZGF0YSwgcHJlZml4LCB0eXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwicGFydGlhbFwiOlxuICAgICAgICAgICAgICAgIGFzc2VydFR5cGVQYXJ0aWFsKGRhdGEsIHByZWZpeCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcImxpdGVyYWxcIjpcbiAgICAgICAgICAgICAgICBhc3NlcnRUeXBlTGl0ZXJhbChkYXRhLCBwcmVmaXgsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJjdXN0b21cIjpcbiAgICAgICAgICAgICAgICBhc3NlcnRUeXBlQ3VzdG9tKGRhdGEsIHByZWZpeCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgRG9uJ3Qga25vdyBob3cgdG8gY3JlYXRlIGEgdHlwZSBndWFyZCBmb3IgdGhpcyBraW5kIG9mIHR5cGU6ICR7SlNPTi5zdHJpbmdpZnkodHlwZSl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcIm9iamVjdFwiKVxuICAgICAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgJHtwcmVmaXh9IHRvIGJlIGFuIG9iamVjdCBhbmQgbm90IGEgJHtwcmV0dHlUeXBlb2YoZGF0YSl9IWApO1xuICAgIGNvbnN0IG9iaiA9IGRhdGE7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHR5cGUpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBhc3NlcnRUeXBlJChvYmpbbmFtZV0sIHR5cGVbbmFtZV0sIGAke3ByZWZpeH0uJHtuYW1lfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFR5cGVUdXBsZShkYXRhLCBwcmVmaXgsIFssIC4uLnR5cGVzXSkge1xuICAgIGFzc2VydEFycmF5KGRhdGEpO1xuICAgIGlmICh0eXBlcy5sZW5ndGggPiBkYXRhLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgJHtwcmVmaXh9J3MgbGVuZ3RoIHRvIGJlIGF0IGxlYXN0ICR7dHlwZXMubGVuZ3RofSBhbmQgbm90ICR7ZGF0YS5sZW5ndGh9IWApO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgYXNzZXJ0VHlwZSQoZGF0YVtpXSwgdHlwZSwgYCR7cHJlZml4fVske2l9XWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFR5cGVUdXBsZVdpdGhSZXN0KGRhdGEsIHByZWZpeCwgWywgLi4udHlwZXNdKSB7XG4gICAgY29uc3QgbGFzdCA9IHR5cGVzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgZml4VHlwZXMgPSB0eXBlcy5zbGljZSgwLCBsYXN0KTtcbiAgICBhc3NlcnRUeXBlVHVwbGUoZGF0YSwgcHJlZml4LCBbXCJ0dXBsZVwiLCAuLi5maXhUeXBlc10pO1xuICAgIGNvbnN0IHJlc3QgPSB0eXBlc1tsYXN0XTtcbiAgICBmb3IgKGxldCBpID0gbGFzdDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXNzZXJ0VHlwZSQoZGF0YVtpXSwgcmVzdCwgYCR7cHJlZml4fVske2l9XWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFR5cGVQYXJ0aWFsKGRhdGEsIHByZWZpeCwgWywgdHlwZV0pIHtcbiAgICBhc3NlcnRPYmplY3QoZGF0YSwgcHJlZml4KTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXModHlwZSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGF0dHJpYiA9IGRhdGFbbmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgYXR0cmliICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBhc3NlcnRUeXBlJChhdHRyaWIsIHR5cGVbbmFtZV0sIGAke3ByZWZpeH0uJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZUFycmF5KGRhdGEsIHByZWZpeCwgdHlwZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7cHJlZml4fSB0byBiZSBhbiBhcnJheSBhbmQgbm90IGEgJHtwcmV0dHlUeXBlb2YoZGF0YSl9IWApO1xuICAgIGNvbnN0IFssIHN1YlR5cGUsIGNvbnN0cmFpbnRzXSA9IHR5cGU7XG4gICAgaWYgKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoaXNOdW1iZXIoY29uc3RyYWludHMpKSB7XG4gICAgICAgICAgICBpZiAobGVuICE9PSBjb25zdHJhaW50cykge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFeHBlY3RlZCAke3ByZWZpeH0ncyBsZW5ndGggdG8gYmUgJHtjb25zdHJhaW50c30gYW5kIG5vdCAke2xlbn0hYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSBjb25zdHJhaW50cztcbiAgICAgICAgICAgIGlmIChpc051bWJlcihtaW4pICYmIGxlbiA8IG1pbikge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFeHBlY3RlZCAke3ByZWZpeH0ncyBNSU4gbGVuZ3RoIHRvIGJlICR7bWlufSBhbmQgbm90ICR7bGVufSFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc051bWJlcihtYXgpICYmIGxlbiA+IG1heCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFeHBlY3RlZCAke3ByZWZpeH0ncyBNQVggbGVuZ3RoIHRvIGJlICR7bWF4fSBhbmQgbm90ICR7bGVufSFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXNzZXJ0VHlwZSQoZGF0YVtpXSwgc3ViVHlwZSwgYCR7cHJlZml4fVske2l9XWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFR5cGVNYXAoZGF0YSwgcHJlZml4LCB0eXBlKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7cHJlZml4fSB0byBiZSBhbiBvYmplY3QgYW5kIG5vdCBhICR7cHJldHR5VHlwZW9mKGRhdGEpfSFgKTtcbiAgICBjb25zdCBbLCBzdWJUeXBlXSA9IHR5cGU7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoZGF0YSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGFzc2VydFR5cGUkKGRhdGFba2V5XSwgc3ViVHlwZSwgYCR7cHJlZml4fVske2tleX1dYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRUeXBlT3B0aW9uYWwoZGF0YSwgcHJlZml4LCB0eXBlKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgWywgb3B0aW9uYWxUeXBlXSA9IHR5cGU7XG4gICAgYXNzZXJ0VHlwZSQoZGF0YSwgb3B0aW9uYWxUeXBlLCBwcmVmaXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZUFsdGVybmF0aXZlKGRhdGEsIHByZWZpeCwgdHlwZSkge1xuICAgIGNvbnN0IFssIC4uLmFsdFR5cGVzXSA9IHR5cGU7XG4gICAgaWYgKGFsdFR5cGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhyb3cgRXJyb3IoYE5vIHR5cGUgaGFzIGJlZW4gZGVmaW5lZCBmb3IgdGhpcyBhbHRlcm5hdGl2ZTogJHtKU09OLnN0cmluZ2lmeSh0eXBlKX0hYCk7XG4gICAgY29uc3QgZXhjZXB0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgYWx0VHlwZSBvZiBhbHRUeXBlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXNzZXJ0VHlwZSQoZGF0YSwgYWx0VHlwZSwgcHJlZml4KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGlmIChleCBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICAgICAgICAgIGV4Y2VwdGlvbnMucHVzaChleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBBbGwgYWx0ZXJuYXRpdmVzIGZhaWxlZCEke2V4Y2VwdGlvbnMubWFwKGV4ID0+IGBcXG4ke2V4Lm1lc3NhZ2V9YCl9YCk7XG59XG5mdW5jdGlvbiBhc3NlcnRUeXBlTGl0ZXJhbChkYXRhLCBwcmVmaXgsIHR5cGUpIHtcbiAgICBjb25zdCBbLCAuLi5saXRlcmFsc10gPSB0eXBlO1xuICAgIGZvciAoY29uc3QgbGl0ZXJhbCBvZiBsaXRlcmFscykge1xuICAgICAgICBpZiAoZGF0YSA9PT0gbGl0ZXJhbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7cHJlZml4fSB0byBiZSBhIGxpdGVyYWwgKCR7bGl0ZXJhbHNcbiAgICAgICAgLm1hcChpdGVtID0+IGBcIiR7aXRlbX1cImApXG4gICAgICAgIC5qb2luKFwiIHwgXCIpfSkgYW5kIG5vdCBhICR7cHJldHR5VHlwZW9mKGRhdGEpfSFgKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFR5cGVDdXN0b20oZGF0YSwgcHJlZml4LCBbLCB0eXBlR3VhcmRdKSB7XG4gICAgLy8gQ3VzdG9tIHR5cGUgZ3VhcmQuXG4gICAgaWYgKCF0eXBlR3VhcmQoZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7dHlwZUd1YXJkLm5hbWV9KCR7cHJlZml4fSkgdG8gcmV0dXJuIHRydWUhYCk7XG4gICAgfVxuICAgIHJldHVybjtcbn1cbi8qKlxuICogQmFzaWNhbGx5LCB0aGlzIGZ1bmN0aW9uIGNoZWNrcyBhIGBkYXRhYCBhZ2FpbnN0IGEgYHR5cGVgIGFuZCByZXR1cm5zIGEgYGRlZmF1bHRWYWx1ZWBcbiAqIGlmIGBkYXRhYCBpcyBub3Qgb2YgdGhlIGV4cGVjdGVkIHR5cGUuXG4gKlxuICogQnV0IGlmIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyBhIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgZXhwZWN0ZWQgYHR5cGVgLCB0aGVuIGBlbnN1cmVUeXBlYFxuICogY2FuIGJlIHVzZSB0byB1cGRhdGUgb2xkIGRhdGEgdGhhdCB5b3UgaGF2ZSByZXRyaWV2ZWQgZnJvbSBsb2NhbCBzdG9yYWdlLCBmb3IgZXhhbXBsZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiBpbnRlcmZhY2UgQ29tcGxleCB7IHI6IG51bWJlciwgaTogbnVtYmVyIH1cbiAqIGNvbnN0IGNvbXBsZXggPSBlbnN1cmVUeXBlPENvbXBsZXg+KGRhdGEsIHtyOiBcIm51bWJlclwiLCBpOiBcIm51bWJlclwifSwgeyByOiAxLCBpOiAwIH0pXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiBpbnRlcnBhY2UgUGVyc29uVmVyc2lvbjEge1xuICogICBuYW1lOiBzdHJpbmdcbiAqICAgZmVtYWxlOiBib29sZWFuXG4gKiB9XG4gKiBpbnRlcnBhY2UgUGVyc29uVmVyc2lvbjIge1xuICogICBuYW1lOiBzdHJpbmdcbiAqICAgZ2VuZGVyOiBcIm1hbGVcIiB8IFwiZmVtYWxlXCIgfCBcIm5vbmJpbmFyeVwiIHwgXCJ1bmtub3duXCJcbiAqIH1cbiAqXG4gKiBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShMb2NhbFN0b3JhdGUuZ2V0SXRlbShcInBlcnNvblwiKSA/PyBcIm51bGxcIilcbiAqIGNvbnN0IFR5cGVQZXJzb25WZXJzaW9uMSA9IHtcbiAqICAgbmFtZTogXCJzdHJpbmdcIixcbiAqICAgZmVtYWxlOiBcImJvb2xlYW5cIlxuICogfVxuICogY29uc3QgVHlwZVBlcnNvblZlcnNpb24yID0ge1xuICogICBuYW1lOiBcInN0cmluZ1wiLFxuICogICBnZW5kZXI6IFtcImxpdGVyYWxcIiwgXCJtYWxlXCIsIFwiZmVtYWxlXCIsIFwibm9uYmluYXJ5XCIsIFwidW5rbm93blwiXVxuICogfVxuICogY29uc3QgcGVyc29uID0gZW5zdXJlVHlwZTxQZXJzb25WZXJzaW9uMj4oXG4gKiAgIGRhdGEsXG4gKiAgIFR5cGVQZXJzb25WZXJzaW9uMixcbiAqICAgKHZhbHVlOiB1bmtub3duKSA9PiB7XG4gKiAgICAgaWYgKGlzVHlwZTxQZXJzb25WZXJzaW9uMj4odmFsdWUsIFR5cGVQZXJzb25WZXJzaW9uMikpIHtcbiAqICAgICAgIHJldHVybiB2YWx1ZVxuICogICAgIH1cbiAqICAgICBpZiAoaXNUeXBlPFBlcnNvblZlcnNpb24xPih2YWx1ZSwgVHlwZVBlcnNvblZlcnNpb24xKSkge1xuICogICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgbmFtZTogdmFsdWUubmFtZSxcbiAqICAgICAgICAgZ2VuZGVyOiB2YWx1ZS5mZW1hbGUgPT09IHRydWUgPyBcImZlbWFsZVwiIDogXCJ1bmtub3duXCJcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgICAgcmV0dXJuIHsgbmFtZTogXCJBbm9ueW1vdXNcIiwgZ2VuZGVyOiBcInVua25vd25cIiB9XG4gKiAgIH1cbiAqIClcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBkYXRhIFZhbHVlIHdpdGggdW5rbm93biB0eXBlLlxuICogQHBhcmFtIHR5cGUgVGhlIHR5cGUgdG8gY2hlY2sgYWdhaW5zdC5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgSWYgdGhlIHR5cGUgZG9lc24ndCBjaGVjaywgd2UgY2FuIHJldHVybiBgZGVmYXVsdFZhbHVlYCwgb3IgY2FsbCBpdCBpZiB0aGlzIGlzIGEgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyBBIHZhbHVlIHRoYXQgaXMgb2YgdGhlIGV4cGVjdGVkIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVUeXBlKGRhdGEsIHR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChpc1R5cGUkKGRhdGEsIHR5cGUpKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICByZXR1cm4gaXNUeXBlJChkZWZhdWx0VmFsdWUsIHR5cGUpID8gZGVmYXVsdFZhbHVlIDogZGVmYXVsdFZhbHVlKGRhdGEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUJvb2xlYW4oZGF0YSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIGVuc3VyZVR5cGUoZGF0YSwgXCJib29sZWFuXCIsIGRlZmF1bHRWYWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTnVtYmVyKGRhdGEsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBlbnN1cmVUeXBlKGRhdGEsIFwibnVtYmVyXCIsIGRlZmF1bHRWYWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlU3RyaW5nKGRhdGEsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBlbnN1cmVUeXBlKGRhdGEsIFwic3RyaW5nXCIsIGRlZmF1bHRWYWx1ZSk7XG59XG5mdW5jdGlvbiBwcmV0dHlUeXBlb2YoZGF0YSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoZGF0YSA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gYGZ1bmN0aW9uICR7KF9hID0gZGF0YS5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwifSgpYDtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiU2V0IiwidCIsIndpbmRvdyIsIkpTT04iLCJFcnJvciIsImNvbnNvbGUiLCJBcnJheSIsImkiLCJPYmplY3QiLCJlIiwibiJdLCJtYXBwaW5ncyI6ImlKQUNlLE9BQU0sRUFDakIsWUFBWSxDQUFZLENBQUUsRUFBVSxDQUFDLENBQUMsQ0FBRSxDQUNwQyxJQUFJLENBQ0osS0FBSSxDQUFDLE9BQU8sQ0FBRyxFQUNmLElBQUksQ0FBQyxTQUFTLENBQUcsSUFBSUEsSUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBRyxFQUFRLFNBQVMsQ0FDL0IsRUFBUSxTQUFTLENBQUMsR0FDbEIsRUFDTixJQUFJLENBQUMsRUFBRSxDQUFHLENBQUM7QUFBYSxFQUFFLE1BQUMsR0FBSyxFQUFRLE9BQU8sQUFBRCxFQUErQixLQUFLLEVBQUksRUFBRyxFQUFFLENBQUMsQ0FBQyxDQUN6RixFQUFRLE9BQU8sRUFDZixJQUFJLENBQUMsZUFBZSxFQUM1QixDQUNBLElBQUksT0FBUSxDQUNSLE9BQU8sSUFBSSxDQUFDLFlBQVksQUFDNUIsQ0FDQSxJQUFJLE1BQU0sQ0FBSyxDQUFFLENBQ2IsR0FBTSxDQUFFQyxVQUFBQSxDQUFTLENBQUUsU0FBTyxDQUFFLENBQUcsSUFBSSxDQUFDLE9BQU8sQ0FHM0MsR0FGSUEsR0FDQSxHQUFRQSxFQUFVLEVBQUssRUFDdkIsSUFBVSxJQUFJLENBQUMsWUFBWSxDQUsvQixJQUFLLElBQU0sS0FIWCxJQUFJLENBQUMsWUFBWSxDQUFHLEVBQ2hCLEdBQ0FDLE9BQU8sWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFFQyxLQUFLLFNBQVMsQ0FBQyxJQUNqQyxJQUFJLENBQUMsU0FBUyxFQUNqQyxFQUFTLEVBRWpCLENBQ0EsWUFBWSxDQUFRLENBQUUsQ0FDbEIsV0FBZSxDQUFDLEtBQ1osSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FDWixLQUNILElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQzFCLEdBQ0QsRUFBRSxDQUNULENBQ0EsVUFBVyxDQUNQLEdBQU0sQ0FBQyxFQUFPLEVBQVMsQ0FBRyxVQUFjLENBQUMsSUFBSSxDQUFDLFlBQVksRUFPMUQsT0FOQSxXQUFlLENBQUMsS0FDWixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUNaLEtBQ0gsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFDMUIsR0FDRCxFQUFFLEVBQ0UsQ0FDWCxDQUNBLFVBQVcsQ0FDUCxHQUFNLENBQUMsRUFBTyxFQUFTLENBQUcsVUFBYyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBTzFELE9BTkEsV0FBZSxDQUFDLEtBQ1osSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FDWixLQUNILElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQzFCLEdBQ0QsRUFBRSxFQUNFLENBQ0gsRUFDQSxBQUFDLElBQ0csSUFBSSxDQUFDLEtBQUssQ0FBRyxDQUNqQixFQUNILEFBQ0wsQ0FDQSxZQUFZLENBQVEsQ0FBRSxDQUNsQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUN2QixDQUNBLGVBQWUsQ0FBUSxDQUFFLENBQ3JCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQzFCLENBQ0EsaUJBQWtCLENBQ2QsR0FBTSxDQUFFLFNBQU8sQ0FBRSxDQUFHLElBQUksQ0FBQyxPQUFPLENBQ2hDLEdBQUssRUFFTCxHQUFJLENBQ0EsSUFBTUYsRUFBT0MsT0FBTyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQ2hELEdBQUksQ0FBQ0QsRUFDRCxPQUNKLElBQU0sRUFBT0UsS0FBSyxLQUFLLENBQUNGLEdBQ3hCLEdBQUksQ0FBQyxFQUFRLEtBQUssQ0FBQyxHQUNmLE1BQU1HLE1BQU0sZ0JBQ2hCLEtBQUksQ0FBQyxZQUFZLENBQUcsQ0FDeEIsQ0FDQSxNQUFPLEVBQUksQ0FDUEMsUUFBUSxLQUFLLENBQUMsQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFRLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBRSxFQUNyRSxDQUNKLENBQ0osQyxxR0MzRU8sU0FBUyxFQUFPLENBQUUsUUFBTSxDQUFlLEVBQzVDLElBQU0sRUFBSyxTQUFzQixNQUMzQixDQUFDLEVBQU0sRUFBUSxDQUFHLFVBQWMsQ0FBQyxJQUNqQyxDQUFDLEVBQWMsRUFBZ0IsQ0FBRyx5QkFBMkIsR0FDN0QsRUFBZ0IsVUFDcEIsRUFBUSxJQUVSLEVBRGEsTUFBTSxZQUFrQixDQUFDLEVBQWMsSUFFcEQsRUFBUSxHQUNWLEVBRUEsTUFDRSxXQUFDLEtBQVMsRUFDUixRQUFRLE9BQ1IsY0FBYyxTQUNkLFdBQVcsVUFDWCxRQUFRLElBQ1IsSUFBSSxJQUFHLFVBRVAsVUFBQyxLQUFhLEVBQ1osTUFBTSxnQkFDTixNQUFPLEVBQ1AsU0FBVSxDQUFlLEdBRTNCLFVBQUMsS0FBVSxFQUFDLEtBQU0sS0FBUSxDQUFFLFFBQVMsQ0FBQyxFQUFNLFFBQVMsRUFBYSxvQkFFckQsRUFHbkIsQyxhQ2hDZSxTQUFTLElBQ3RCLEdBQU0sQ0FBQyxFQUFNLEVBQVEsQ0FBRyxVQUFjLENBQW9CLE1BQ3BELEVBQVksQUFhcEIsU0FBc0IsQ0FBdUIsRUFDM0MsR0FBTSxDQUFDLEVBQVcsRUFBYSxDQUFHLFVBQWMsQ0FBQyxJQVdqRCxPQVZBLFdBQWUsQ0FBQyxLQUNkLEdBQUksQ0FBQyxFQUFNLFlBQ1QsRUFBYSxJQUlmLElBQU0sRUFBVSxJQUFNLEVBQWEsSUFFbkMsT0FEQSxFQUFLLGNBQWMsQ0FBQyxXQUFXLENBQUMsR0FDekIsSUFBTSxFQUFLLGNBQWMsQ0FBQyxjQUFjLENBQUMsRUFDbEQsRUFBRyxDQUFDLEVBQUssRUFDRixDQUNULEVBMUJpQyxVQUUvQixBQUFLLEVBSUEsRUFJRSxVQUFDLEdBQUksRUFBQyxLQUFNLENBQUksR0FIZCxVQUFDLEtBQVcsNkJBSlosVUFBQyxFQUFNLENBQUMsT0FBUSxDQUFPLEVBUWxDLENDaEJlLFNBQVMsSUFDdEIsTUFDRSxVQUFDLEtBQVMsRUFDUixTQUFTLFdBQ1QsU0FBUSxHQUNSLE1BQU0sWUFDTixRQUFRLE9BQ1IsV0FBVyxTQUFRLFNBRW5CLFdBQUMsS0FBUyxFQUFDLFlBQVksU0FBUyxTQUFTLEtBQUksVUFDM0MsVUFBQyxLQUFTLEVBQUMsTUFBTSxZQUFZLFFBQVMsQ0FBQyxJQUFLLElBQUksQ0FBRSxTQUFTLElBQUcscUNBRzlELFVBQUMsS0FBUyxFQUNSLE1BQU0sWUFDTixRQUFRLElBQ1IsUUFBUSxPQUNSLFdBQVcsU0FBUSxTQUVuQixVQUFDLEVBQU8sR0FBRyxHQUNELEVBQ0YsRUFHbEIsQyxhQzVCTyxTQUFTLEVBQVMsQ0FBSSxRQUN6QixFQUFJLENBQUMsR0FFREMsTUFBTSxPQUFPLENBQUMsS0FFWCxBQUFnQixVQUFoQixPQUFPLENBQ2xCLENBQ08sU0FBUyxFQUFTLENBQUksRUFDekIsTUFBTyxBQUFnQixVQUFoQixPQUFPLENBQ2xCLENBQ08sU0FBU0MsRUFBUyxDQUFJLEVBQ3pCLE1BQU8sQUFBZ0IsVUFBaEIsT0FBTyxDQUNsQixDQTRFTyxTQUFTLEVBQU8sQ0FBSSxDQUFFTixDQUFJLENBQUUsRUFBWSxJQUFJLEVBQy9DLE9BQU8sQUFFSixTQUFpQixDQUFJLENBQUVBLENBQUksQ0FBRSxFQUFZLElBQUksRUFDaEQsR0FBSSxDQUVBLE9BREEsRUFBWSxFQUFNQSxHQUNYLEVBQ1gsQ0FDQSxNQUFPLEVBQUksQ0FNUCxPQUxJLElBQ0FJLFFBQVEsS0FBSyxDQUFDLGlCQUFrQixHQUNoQ0EsUUFBUSxLQUFLLENBQUMsR0FDZEEsUUFBUSxLQUFLLENBQUMsSUFFWCxFQUNYLENBQ0osRUFmbUIsRUFBTUosRUFBTSxFQUMvQixDQWVPLFNBQVMsRUFBVyxDQUFJLENBQUVBLENBQUksQ0FBRSxFQUFTLE1BQU0sRUFDbEQsT0FBTyxFQUFZLEVBQU1BLEVBQU0sRUFDbkMsQ0FDTyxTQUFTLEVBQVksQ0FBSSxDQUFFQSxDQUFJLENBQUUsRUFBUyxNQUFNLEVBQ25ELEdBQUksQUFBZ0IsWUFBaEIsT0FBT0EsRUFDUCxPQUFPLEVBQVksRUFBTUEsSUFBUSxHQUNyQyxHQUFJQSxBQUFTLFlBQVRBLEdBRUosR0FBSUEsQUFBUyxTQUFUQSxFQUFpQixDQUNqQixHQUFJLEFBQVMsT0FBVCxFQUVBLE1BREFJLFFBQVEsR0FBRyxDQUFDLCtCQUFzQixFQUFNLE9BQU8sR0FDekNELE1BQU0sQ0FBQyxTQUFTLEVBQUUsRUFBTyx3QkFBd0IsRUFBRSxFQUFhLEdBQU0sQ0FBQyxDQUFDLEVBRWxGLE1BQ0osQ0FDQSxHQUFJLEFBQWdCLFVBQWhCLE9BQU9ILEVBQW1CLENBQzFCLEdBQUksT0FBTyxJQUFTQSxFQUNoQixNQUFNRyxNQUFNLENBQUMsU0FBUyxFQUFFLEVBQU8sU0FBUyxFQUFFSCxFQUFLLFdBQVcsRUFBRSxFQUFhLEdBQU0sQ0FBQyxDQUFDLEVBRXJGLE1BQ0osQ0FDQSxHQUFJSyxNQUFNLE9BQU8sQ0FBQ0wsR0FBTyxDQUNyQixHQUFNLENBQUMsRUFBSyxDQUFHQSxFQUNmLE9BQVEsR0FDSixJQUFLLFNBQ0QsQUFxRWhCLFNBQXlCLENBQUksQ0FBRSxDQUFNLENBQUUsQ0FBSSxFQUN2QyxHQUFJLENBQUNLLE1BQU0sT0FBTyxDQUFDLEdBQ2YsTUFBTUYsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFPLDBCQUEwQixFQUFFLEVBQWEsR0FBTSxDQUFDLENBQUMsRUFDcEYsR0FBTSxFQUFHLEVBQVMsRUFBWSxDQUFHLEVBQ2pDLEdBQUksRUFBYSxDQUNiLElBQU0sRUFBTSxFQUFLLE1BQU0sQ0FDdkIsR0FBSUcsRUFBUyxHQUNULElBQUksSUFBUSxFQUNSLE1BQU1ILE1BQU0sQ0FBQyxTQUFTLEVBQUUsRUFBTyxnQkFBZ0IsRUFBRSxFQUFZLFNBQVMsRUFBRSxFQUFJLENBQUMsQ0FBQyxDQUNsRixLQUVDLENBQ0QsR0FBTSxDQUFFLEtBQUcsQ0FBRSxLQUFHLENBQUUsQ0FBRyxFQUNyQixHQUFJRyxFQUFTLElBQVEsRUFBTSxFQUN2QixNQUFNSCxNQUFNLENBQUMsU0FBUyxFQUFFLEVBQU8sb0JBQW9CLEVBQUUsRUFBSSxTQUFTLEVBQUUsRUFBSSxDQUFDLENBQUMsRUFFOUUsR0FBSUcsRUFBUyxJQUFRLEVBQU0sRUFDdkIsTUFBTUgsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFPLG9CQUFvQixFQUFFLEVBQUksU0FBUyxFQUFFLEVBQUksQ0FBQyxDQUFDLENBRWxGLENBQ0osQ0FDQSxJQUFLLElBQUksRUFBSSxFQUFHLEVBQUksRUFBSyxNQUFNLENBQUUsR0FBSyxFQUNsQyxFQUFZLENBQUksQ0FBQyxFQUFFLENBQUUsRUFBUyxDQUFDLEVBQUUsRUFBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FFdkQsRUE3RmdDLEVBQU0sRUFBUUgsR0FDOUIsTUFDSixLQUFLLE9BQ0QsQUEyRmhCLFNBQXVCLENBQUksQ0FBRSxDQUFNLENBQUUsQ0FBSSxFQUNyQyxHQUFJLENBQUMsRUFBUyxHQUNWLE1BQU1HLE1BQU0sQ0FBQyxTQUFTLEVBQUUsRUFBTywyQkFBMkIsRUFBRSxFQUFhLEdBQU0sQ0FBQyxDQUFDLEVBQ3JGLEdBQU0sRUFBRyxFQUFRLENBQUcsRUFDcEIsSUFBSyxJQUFNLEtBQU9JLE9BQU8sSUFBSSxDQUFDLEdBQ3RCLEFBQWUsVUFBZixPQUFPLEdBQ1AsRUFBWSxDQUFJLENBQUMsRUFBSSxDQUFFLEVBQVMsQ0FBQyxFQUFFLEVBQU8sQ0FBQyxFQUFFLEVBQUksQ0FBQyxDQUFDLENBRy9ELEVBcEc4QixFQUFNLEVBQVFQLEdBQzVCLE1BQ0osS0FBSyxLQUNELEFBa0doQixTQUE0QixDQUFJLENBQUUsQ0FBTSxDQUFFLENBQUksRUFDMUMsR0FBSSxBQUFnQixTQUFULEVBQ1AsT0FDSixHQUFNLEVBQUcsRUFBYSxDQUFHLEVBQ3pCLEVBQVksRUFBTSxFQUFjLEVBQ3BDLEVBdkdtQyxFQUFNLEVBQVFBLEdBQ2pDLE1BQ0osS0FBSyxLQUNELEFBcUdoQixTQUErQixDQUFJLENBQUUsQ0FBTSxDQUFFLENBQUksRUFDN0MsR0FBTSxFQUFHLEdBQUcsRUFBUyxDQUFHLEVBQ3hCLEdBQUksQUFBb0IsSUFBcEIsRUFBUyxNQUFNLENBQ2YsTUFBTUcsTUFBTSxDQUFDLCtDQUErQyxFQUFFRCxLQUFLLFNBQVMsQ0FBQyxHQUFNLENBQUMsQ0FBQyxFQUN6RixJQUFNLEVBQWEsRUFBRSxDQUNyQixJQUFLLElBQU0sS0FBVyxFQUNsQixHQUFJLENBQ0EsRUFBWSxFQUFNLEVBQVMsR0FDM0IsTUFDSixDQUNBLE1BQU9NLEVBQUksQ0FDSEEsYUFBY0wsT0FDZCxFQUFXLElBQUksQ0FBQ0ssRUFDeEIsQ0FFSixNQUFNLEFBQUlMLE1BQU0sQ0FBQyx3QkFBd0IsRUFBRSxFQUFXLEdBQUcsQ0FBQ0ssR0FBTTtBQUFHLEVBQUVBLEVBQUcsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQ3hGLEVBckhzQyxFQUFNLEVBQVFSLEdBQ3BDLE1BQ0osS0FBSyxRQUNELEVBQWdCLEVBQU0sRUFBUUEsR0FDOUIsTUFDSixLQUFLLFlBQ0QsQUFrQ2hCLFNBQWlDLENBQUksQ0FBRSxDQUFNLENBQUUsRUFBRyxHQUFHLEVBQU0sRUFDdkQsSUFBTSxFQUFPLEVBQU0sTUFBTSxDQUFHLEVBRTVCLEVBQWdCLEVBQU0sRUFBUSxDQUFDLFdBRGQsRUFBTSxLQUFLLENBQUMsRUFBRyxHQUNvQixFQUNwRCxJQUFNLEVBQU8sQ0FBSyxDQUFDLEVBQUssQ0FDeEIsSUFBSyxJQUFJLEVBQUksRUFBTSxFQUFJLEVBQUssTUFBTSxDQUFFLElBQ2hDLEVBQVksQ0FBSSxDQUFDLEVBQUUsQ0FBRSxFQUFNLENBQUMsRUFBRSxFQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUVwRCxFQTFDd0MsRUFBTSxFQUFRQSxHQUN0QyxNQUNKLEtBQUssV0FDRCxBQXdDaEIsU0FBMkIsQ0FBSSxDQUFFLENBQU0sQ0FBRSxFQUFHLEVBQUssRUFFN0MsSUFBSyxJQUFNLE1BRFgsQUF6SEcsU0FBc0IsQ0FBSSxDQUFFLEVBQU8sTUFBTSxFQUM1QyxHQUFJLENBQUMsRUFBUyxHQUNWLE1BQU1HLE1BQU0sQ0FBQyxFQUFFLEVBQUsseUNBQXlDLEVBQUUsT0FBTyxFQUFLLENBQUMsQ0FBQyxDQUVyRixFQXFIaUIsRUFBTSxHQUNBSSxPQUFPLElBQUksQ0FBQyxJQUFPLENBQ2xDLEdBQUksQUFBZ0IsVUFBaEIsT0FBTyxFQUNQLFNBQ0osSUFBTSxFQUFTLENBQUksQ0FBQyxFQUFLLEFBQ3JCLEFBQWtCLFVBQVgsR0FDUCxFQUFZLEVBQVEsQ0FBSSxDQUFDLEVBQUssQ0FBRSxDQUFDLEVBQUUsRUFBTyxDQUFDLEVBQUUsRUFBSyxDQUFDLENBRTNELENBQ0osRUFsRGtDLEVBQU0sRUFBUVAsR0FDaEMsTUFDSixLQUFLLFdBQ0QsQUEwR2hCLFNBQTJCLENBQUksQ0FBRSxDQUFNLENBQUUsQ0FBSSxFQUN6QyxHQUFNLEVBQUcsR0FBRyxFQUFTLENBQUcsRUFDeEIsSUFBSyxJQUFNLEtBQVcsRUFDbEIsR0FBSSxJQUFTLEVBQ1QsTUFFUixPQUFNRyxNQUFNLENBQUMsU0FBUyxFQUFFLEVBQU8sa0JBQWtCLEVBQUUsRUFDOUMsR0FBRyxDQUFDLEdBQVEsQ0FBQyxDQUFDLEVBQUUsRUFBSyxDQUFDLENBQUMsRUFDdkIsSUFBSSxDQUFDLE9BQU8sWUFBWSxFQUFFLEVBQWEsR0FBTSxDQUFDLENBQUMsQ0FDeEQsRUFuSGtDLEVBQU0sRUFBUUgsR0FDaEMsTUFDSixLQUFLLFVBQ0QsQUFpSGhCLFNBQTBCLENBQUksQ0FBRSxDQUFNLENBQUUsRUFBRyxFQUFVLEVBRWpELEdBQUksQ0FBQyxFQUFVLEdBQ1gsTUFBTUcsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFVLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBTyxpQkFBaUIsQ0FBQyxDQUczRSxFQXZIaUMsRUFBTSxFQUFRSCxHQUMvQixNQUNKLFNBQ0ksTUFBTUcsTUFBTSxDQUFDLDZEQUE2RCxFQUFFRCxLQUFLLFNBQVMsQ0FBQ0YsR0FBTSxDQUFDLENBQzFHLENBQ0osQ0FDQSxHQUFJLEFBQWdCLFVBQWhCLE9BQU8sRUFDUCxNQUFNRyxNQUFNLENBQUMsU0FBUyxFQUFFLEVBQU8sMkJBQTJCLEVBQUUsRUFBYSxHQUFNLENBQUMsQ0FBQyxFQUVyRixJQUFLLElBQU1NLEtBQVFGLE9BQU8sSUFBSSxDQUFDUCxHQUNQLFVBQWhCLE9BQU9TLEdBRVgsRUFBWSxBQUpKLENBSU8sQ0FBQ0EsRUFBSyxDQUFFVCxDQUFJLENBQUNTLEVBQUssQ0FBRSxDQUFDLEVBQUUsRUFBTyxDQUFDLEVBQUVBLEVBQUssQ0FBQyxFQUU5RCxDQUNBLFNBQVMsRUFBZ0IsQ0FBSSxDQUFFLENBQU0sQ0FBRSxFQUFHLEdBQUcsRUFBTSxFQUUvQyxJQURBLEFBakdHLFNBQXFCLENBQUksQ0FBRSxFQUFPLE1BQU0sRUFDM0MsR0FBSSxDQUFDSixNQUFNLE9BQU8sQ0FBQyxHQUNmLE1BQU1GLE1BQU0sQ0FBQyxFQUFFLEVBQUssd0NBQXdDLEVBQUUsT0FBTyxFQUFLLENBQUMsQ0FBQyxDQUVwRixFQTZGZ0IsR0FDUixFQUFNLE1BQU0sQ0FBRyxFQUFLLE1BQU0sQ0FDMUIsTUFBTUEsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFPLHlCQUF5QixFQUFFLEVBQU0sTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFFcEcsSUFBSyxJQUFJLEVBQUksRUFBRyxFQUFJLEVBQU0sTUFBTSxDQUFFLElBQUssQ0FDbkMsSUFBTSxFQUFPLENBQUssQ0FBQyxFQUFFLENBQ3JCLEVBQVksQ0FBSSxDQUFDLEVBQUUsQ0FBRSxFQUFNLENBQUMsRUFBRSxFQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUNoRCxDQUNKLENBc0tBLFNBQVMsRUFBYSxDQUFJLEVBQ3RCLElBQUksU0FDSixBQUFJLEFBQVMsT0FBVCxFQUNPLE9BQ1AsQUFBZ0IsWUFBaEIsT0FBTyxFQUNBLENBQUMsU0FBUyxFQUFFLE1BQUMsR0FBSyxFQUFLLElBQUksQUFBRCxFQUErQixFQUFLLEdBQUcsRUFBRSxDQUFDLENBQ3hFLE9BQU8sQ0FDbEIsQyJ9