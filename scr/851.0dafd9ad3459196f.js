"use strict";(self.webpackChunk_tolokoban_p2p_doc=self.webpackChunk_tolokoban_p2p_doc||[]).push([["851"],{238(e,n,t){t.r(n),t.d(n,{default:()=>f});var r=t(848),s=t(710),l=t(540),a=t(936),o=t(592);function i({onPeer:e}){let[n,t]=l.useState(!1),[i,c]=o.U.signalServer.useState(),d=async()=>{t(!0),e(await a.V6.connect(i)),t(!1)};return n?(0,r.jsx)(s.vJ5,{children:"Contacting STUN server..."}):(0,r.jsxs)(s.sWC,{display:"flex",flexDirection:"column",alignItems:"stretch",padding:"M",gap:"M",children:[(0,r.jsx)(s.Hqg,{label:"Signal server",value:i,onChange:c}),(0,r.jsx)(s.yQN,{icon:s.fWr,enabled:!n,onClick:d,children:"Invite"})]})}var c=t(583),d=t(424);let u=s.Sxu.classNames;function p({className:e,peer:n}){let t=function(e){let[n,t]=l.useState(!1);return l.useEffect(()=>{let n=()=>t(!0);return e.eventConnected.addListener(n),()=>e.eventConnected.removeListener(n)},[e]),n}(n),{protocol:s,hostname:a,port:o,pathname:i}=globalThis.location,p=`${s}//${a}:${o}${i}#/demo/${n.id}`;return t?(0,r.jsx)(d.A,{peer:n}):(0,r.jsx)("div",{className:u.join(e,"src-app-_-Content-QrCodeButton-QrCodeButton-module_qrCodeButton_BV2Ny3"),children:(0,r.jsx)("a",{href:p,target:"_blank",children:(0,r.jsx)("canvas",{ref:e=>{e&&c.toCanvas(e,p)}})})})}function x(){let[e,n]=l.useState(null);return e?(0,r.jsx)(p,{peer:e}):(0,r.jsx)(i,{onPeer:n})}function f(){return(0,r.jsx)(s.sWC,{position:"absolute",fullsize:!0,color:"neutral-1",display:"grid",placeItems:"center",children:(0,r.jsxs)(s.UkC,{orientation:"column",template:"-1",children:[(0,r.jsx)(s.sWC,{color:"primary-5",padding:["S","M"],fontSize:"L",children:"@tolokoban/p2p"}),(0,r.jsx)(s.sWC,{color:"neutral-5",padding:"S",display:"grid",placeItems:"center",children:(0,r.jsx)(x,{})})]})})}s.Sxu.classNames}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyLzg1MS5hNDIwMzM5YTRhYmYwNzY3LmpzIiwic291cmNlcyI6WyIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvQHRvbG9rb2Jhbi9wMnAvZG9jdW1lbnRhdGlvbi9zcmMvYXBwL18vQ29udGVudC9JbnZpdGUvSW52aXRlLnRzeCIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9AdG9sb2tvYmFuL3AycC9kb2N1bWVudGF0aW9uL3NyYy9hcHAvXy9Db250ZW50L1FyQ29kZUJ1dHRvbi9RckNvZGVCdXR0b24udHN4IiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL0B0b2xva29iYW4vcDJwL2RvY3VtZW50YXRpb24vc3JjL2FwcC9fL0NvbnRlbnQvUXJDb2RlQnV0dG9uL1FyQ29kZUJ1dHRvbi5tb2R1bGUuY3NzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL0B0b2xva29iYW4vcDJwL2RvY3VtZW50YXRpb24vc3JjL2FwcC9fL0NvbnRlbnQvQ29udGVudC50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvQHRvbG9rb2Jhbi9wMnAvZG9jdW1lbnRhdGlvbi9zcmMvYXBwL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIEljb25TcGFjZUludmFkZXIsXG4gIFZpZXdCdXR0b24sXG4gIFZpZXdJbnB1dFRleHQsXG4gIFZpZXdQYW5lbCxcbiAgVmlld1NwaW5uZXIsXG59IGZyb20gXCJAdG9sb2tvYmFuL3VpXCI7XG5pbXBvcnQgeyBQZWVyT2ZmZXIgfSBmcm9tIFwiQHRvbG9rb2Jhbi9wMnBcIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIkAvc3RhdGVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJbnZpdGVQcm9wcyB7XG4gIG9uUGVlcihwZWVyOiBQZWVyT2ZmZXIpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52aXRlKHsgb25QZWVyIH06IEludml0ZVByb3BzKSB7XG4gIGNvbnN0IFtidXN5LCBzZXRCdXN5XSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NpZ25hbFNlcnZlciwgc2V0c2lnbmFsU2VydmVyXSA9IFN0YXRlLnNpZ25hbFNlcnZlci51c2VTdGF0ZSgpO1xuICBjb25zdCBoYW5kbGVjb25uZWN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldEJ1c3kodHJ1ZSk7XG4gICAgY29uc3QgcGVlciA9IGF3YWl0IFBlZXJPZmZlci5jb25uZWN0KHNpZ25hbFNlcnZlcik7XG4gICAgb25QZWVyKHBlZXIpO1xuICAgIHNldEJ1c3koZmFsc2UpO1xuICB9O1xuXG4gIGlmIChidXN5KSB7XG4gICAgcmV0dXJuIDxWaWV3U3Bpbm5lcj5Db250YWN0aW5nIFNUVU4gc2VydmVyLi4uPC9WaWV3U3Bpbm5lcj47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxWaWV3UGFuZWxcbiAgICAgIGRpc3BsYXk9XCJmbGV4XCJcbiAgICAgIGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIlxuICAgICAgYWxpZ25JdGVtcz1cInN0cmV0Y2hcIlxuICAgICAgcGFkZGluZz1cIk1cIlxuICAgICAgZ2FwPVwiTVwiXG4gICAgPlxuICAgICAgPFZpZXdJbnB1dFRleHRcbiAgICAgICAgbGFiZWw9XCJTaWduYWwgc2VydmVyXCJcbiAgICAgICAgdmFsdWU9e3NpZ25hbFNlcnZlcn1cbiAgICAgICAgb25DaGFuZ2U9e3NldHNpZ25hbFNlcnZlcn1cbiAgICAgIC8+XG4gICAgICA8Vmlld0J1dHRvblxuICAgICAgICBpY29uPXtJY29uU3BhY2VJbnZhZGVyfVxuICAgICAgICBlbmFibGVkPXshYnVzeX1cbiAgICAgICAgb25DbGljaz17aGFuZGxlY29ubmVjdH1cbiAgICAgID5cbiAgICAgICAgSW52aXRlXG4gICAgICA8L1ZpZXdCdXR0b24+XG4gICAgPC9WaWV3UGFuZWw+XG4gICk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUaGVtZSB9IGZyb20gXCJAdG9sb2tvYmFuL3VpXCI7XG5pbXBvcnQgeyBQZWVyT2ZmZXIgfSBmcm9tIFwiQHRvbG9rb2Jhbi9wMnBcIjtcbmltcG9ydCBRUkNvZGUgZnJvbSBcInFyY29kZVwiO1xuXG5pbXBvcnQgU3R5bGVzIGZyb20gXCIuL1FyQ29kZUJ1dHRvbi5tb2R1bGUuY3NzXCI7XG5pbXBvcnQgQ2hhdCBmcm9tIFwiQC9jb21wb25lbnRzL0NoYXRcIjtcblxuY29uc3QgJCA9IFRoZW1lLmNsYXNzTmFtZXM7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXJDb2RlQnV0dG9uUHJvcHMge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIHBlZXI6IFBlZXJPZmZlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUXJDb2RlQnV0dG9uKHsgY2xhc3NOYW1lLCBwZWVyIH06IFFyQ29kZUJ1dHRvblByb3BzKSB7XG4gIGNvbnN0IGNvbm5lY3RlZCA9IHVzZUNvbm5lY3RlZChwZWVyKTtcbiAgY29uc3QgeyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIHBhdGhuYW1lIH0gPSBnbG9iYWxUaGlzLmxvY2F0aW9uO1xuICBjb25zdCB1cmwgPSBgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9OiR7cG9ydH0ke3BhdGhuYW1lfSMvZGVtby8ke3BlZXIuaWR9YDtcbiAgY29uc3QgaGFuZGxlTW91bnQgPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwpID0+IHtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuXG4gICAgUVJDb2RlLnRvQ2FudmFzKGNhbnZhcywgdXJsKTtcbiAgfTtcblxuICBpZiAoIWNvbm5lY3RlZClcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9eyQuam9pbihjbGFzc05hbWUsIFN0eWxlcy5xckNvZGVCdXR0b24pfT5cbiAgICAgICAgPGEgaHJlZj17dXJsfSB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICA8Y2FudmFzIHJlZj17aGFuZGxlTW91bnR9PjwvY2FudmFzPlxuICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuXG4gIHJldHVybiA8Q2hhdCBwZWVyPXtwZWVyfSAvPjtcbn1cblxuZnVuY3Rpb24gdXNlQ29ubmVjdGVkKHBlZXI6IFBlZXJPZmZlcikge1xuICBjb25zdCBbY29ubmVjdGVkLCBzZXRDb25uZWN0ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3QgPSAoKSA9PiBzZXRDb25uZWN0ZWQodHJ1ZSk7XG4gICAgcGVlci5ldmVudENvbm5lY3RlZC5hZGRMaXN0ZW5lcihjb25uZWN0KTtcbiAgICByZXR1cm4gKCkgPT4gcGVlci5ldmVudENvbm5lY3RlZC5yZW1vdmVMaXN0ZW5lcihjb25uZWN0KTtcbiAgfSwgW3BlZXJdKTtcbiAgcmV0dXJuIGNvbm5lY3RlZDtcbn1cbiIsIi8vIGV4dHJhY3RlZCBieSBjc3MtZXh0cmFjdC1yc3BhY2stcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJxckNvZGVCdXR0b25cIjpcInNyYy1hcHAtXy1Db250ZW50LVFyQ29kZUJ1dHRvbi1RckNvZGVCdXR0b24tbW9kdWxlX3FyQ29kZUJ1dHRvbl9CVjJOeTNcIn07IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVGhlbWUgfSBmcm9tIFwiQHRvbG9rb2Jhbi91aVwiO1xuaW1wb3J0IHsgUGVlck9mZmVyIH0gZnJvbSBcIkB0b2xva29iYW4vcDJwXCI7XG5pbXBvcnQgeyBJbnZpdGUgfSBmcm9tIFwiLi9JbnZpdGVcIjtcbmltcG9ydCBRckNvZGVCdXR0b24gZnJvbSBcIi4vUXJDb2RlQnV0dG9uXCI7XG5cbmNvbnN0ICQgPSBUaGVtZS5jbGFzc05hbWVzO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250ZW50KCkge1xuICBjb25zdCBbcGVlciwgc2V0UGVlcl0gPSBSZWFjdC51c2VTdGF0ZTxQZWVyT2ZmZXIgfCBudWxsPihudWxsKTtcblxuICBpZiAoIXBlZXIpIHJldHVybiA8SW52aXRlIG9uUGVlcj17c2V0UGVlcn0gLz47XG5cbiAgcmV0dXJuIDxRckNvZGVCdXR0b24gcGVlcj17cGVlcn0gLz47XG59XG4iLCJpbXBvcnQgeyBWaWV3UGFuZWwsIFZpZXdTdHJpcCB9IGZyb20gXCJAdG9sb2tvYmFuL3VpXCI7XG5pbXBvcnQgQ29udGVudCBmcm9tIFwiLi9fL0NvbnRlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcbiAgcmV0dXJuIChcbiAgICA8Vmlld1BhbmVsXG4gICAgICBwb3NpdGlvbj1cImFic29sdXRlXCJcbiAgICAgIGZ1bGxzaXplXG4gICAgICBjb2xvcj1cIm5ldXRyYWwtMVwiXG4gICAgICBkaXNwbGF5PVwiZ3JpZFwiXG4gICAgICBwbGFjZUl0ZW1zPVwiY2VudGVyXCJcbiAgICA+XG4gICAgICA8Vmlld1N0cmlwIG9yaWVudGF0aW9uPVwiY29sdW1uXCIgdGVtcGxhdGU9XCItMVwiPlxuICAgICAgICA8Vmlld1BhbmVsIGNvbG9yPVwicHJpbWFyeS01XCIgcGFkZGluZz17W1wiU1wiLCBcIk1cIl19IGZvbnRTaXplPVwiTFwiPlxuICAgICAgICAgIEB0b2xva29iYW4vcDJwXG4gICAgICAgIDwvVmlld1BhbmVsPlxuICAgICAgICA8Vmlld1BhbmVsXG4gICAgICAgICAgY29sb3I9XCJuZXV0cmFsLTVcIlxuICAgICAgICAgIHBhZGRpbmc9XCJTXCJcbiAgICAgICAgICBkaXNwbGF5PVwiZ3JpZFwiXG4gICAgICAgICAgcGxhY2VJdGVtcz1cImNlbnRlclwiXG4gICAgICAgID5cbiAgICAgICAgICA8Q29udGVudCAvPlxuICAgICAgICA8L1ZpZXdQYW5lbD5cbiAgICAgIDwvVmlld1N0cmlwPlxuICAgIDwvVmlld1BhbmVsPlxuICApO1xufVxuIl0sIm5hbWVzIjpbImdsb2JhbFRoaXMiXSwibWFwcGluZ3MiOiJvTUFlTyxTQUFTLEVBQU8sQ0FBRSxRQUFNLENBQWUsRUFDNUMsR0FBTSxDQUFDLEVBQU0sRUFBUSxDQUFHLFVBQWMsQ0FBQyxJQUNqQyxDQUFDLEVBQWMsRUFBZ0IsQ0FBRyx5QkFBMkIsR0FDN0QsRUFBZ0IsVUFDcEIsRUFBUSxJQUVSLEVBRGEsTUFBTSxZQUFpQixDQUFDLElBRXJDLEVBQVEsR0FDVixTQUVBLEFBQUksRUFDSyxVQUFDLEtBQVcseUNBSW5CLFdBQUMsS0FBUyxFQUNSLFFBQVEsT0FDUixjQUFjLFNBQ2QsV0FBVyxVQUNYLFFBQVEsSUFDUixJQUFJLElBQUcsVUFFUCxVQUFDLEtBQWEsRUFDWixNQUFNLGdCQUNOLE1BQU8sRUFDUCxTQUFVLENBQWUsR0FFM0IsVUFBQyxLQUFVLEVBQ1QsS0FBTSxLQUFnQixDQUN0QixRQUFTLENBQUMsRUFDVixRQUFTLEVBQWEsb0JBR1gsRUFHbkIsQyxzQkMzQ0EsSUFBTSxFQUFJLGdCQUFnQixDQU9YLFNBQVMsRUFBYSxDQUFFLFdBQVMsQ0FBRSxNQUFJLENBQXFCLEVBQ3pFLElBQU0sRUFBWSxBQXFCcEIsU0FBc0IsQ0FBZSxFQUNuQyxHQUFNLENBQUMsRUFBVyxFQUFhLENBQUcsVUFBYyxDQUFDLElBTWpELE9BTEEsV0FBZSxDQUFDLEtBQ2QsSUFBTSxFQUFVLElBQU0sRUFBYSxJQUVuQyxPQURBLEVBQUssY0FBYyxDQUFDLFdBQVcsQ0FBQyxHQUN6QixJQUFNLEVBQUssY0FBYyxDQUFDLGNBQWMsQ0FBQyxFQUNsRCxFQUFHLENBQUMsRUFBSyxFQUNGLENBQ1QsRUE3QmlDLEdBQ3pCLENBQUUsVUFBUSxDQUFFLFVBQVEsQ0FBRSxNQUFJLENBQUUsVUFBUSxDQUFFLENBQUdBLFdBQVcsUUFBUSxDQUM1RCxFQUFNLENBQUMsRUFBRSxFQUFTLEVBQUUsRUFBRSxFQUFTLENBQUMsRUFBRSxFQUFLLEVBQUUsRUFBUyxPQUFPLEVBQUUsRUFBSyxFQUFFLENBQUMsQ0FBQyxRQU8xRSxBQUFLLEVBU0UsVUFBQyxHQUFJLEVBQUMsS0FBTSxDQUFJLEdBUG5CLGlCQUFLLFVBQVcsRUFBRSxJQUFJLENBQUMsRUMxQkUsMEVEMEI2QixTQUNwRCxlQUFHLEtBQU0sRUFBSyxPQUFPLFNBQVEsU0FDM0Isb0JBQVEsSUFWSSxBQUFDLElBQ2QsR0FFTCxVQUFlLENBQUMsRUFBUSxFQUMxQixDQU1nQyxFQUFXLEVBQ2pDLEVBS1osQ0UzQmUsU0FBUyxJQUN0QixHQUFNLENBQUMsRUFBTSxFQUFRLENBQUcsVUFBYyxDQUFtQixhQUV6RCxBQUFLLEVBRUUsVUFBQyxFQUFZLENBQUMsS0FBTSxDQUFJLEdBRmIsVUFBQyxFQUFNLENBQUMsT0FBUSxDQUFPLEVBRzNDLENDWGUsU0FBUyxJQUN0QixNQUNFLFVBQUMsS0FBUyxFQUNSLFNBQVMsV0FDVCxTQUFRLEdBQ1IsTUFBTSxZQUNOLFFBQVEsT0FDUixXQUFXLFNBQVEsU0FFbkIsV0FBQyxLQUFTLEVBQUMsWUFBWSxTQUFTLFNBQVMsS0FBSSxVQUMzQyxVQUFDLEtBQVMsRUFBQyxNQUFNLFlBQVksUUFBUyxDQUFDLElBQUssSUFBSSxDQUFFLFNBQVMsSUFBRyw0QkFHOUQsVUFBQyxLQUFTLEVBQ1IsTUFBTSxZQUNOLFFBQVEsSUFDUixRQUFRLE9BQ1IsV0FBVyxTQUFRLFNBRW5CLFVBQUMsRUFBTyxHQUFHLEdBQ0QsRUFDRixFQUdsQixDRHJCVSxnQkFBZ0IsQSJ9